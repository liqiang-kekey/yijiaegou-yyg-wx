
<view  class="wrapper">
  <view class="main" style='transform:scale({{scale}});margin:0 auto;'>
    <view class='userinfo'>
      <view class='tishi' style="color:black">
        今日剩余{{lottery_num}}次抽奖机会
      </view>
    </view>
    <view class="canvas-container" style='margin:120rpx auto 0;'>
      <view animation="{{animationData}}" class="canvas-content" style='margin:0 auto;'>
        <canvas style="width: 300px; height: 300px; margin:0 auto;" class="canvas-element" canvas-id="lotteryCanvas"></canvas>
        <view class="canvas-line">
          <view class="canvas-litem" wx:for="{{awardsList}}" wx:key="unique" style="-webkit-transform: rotate({{item.lineTurn}});transform: rotate({{item.lineTurn}})"></view>
        </view>
         <view class="canvas-list">
          <view class="canvas-item" wx:for="{{awardsList}}" wx:key="unique">
            <view class="canvas-item-text" style="-webkit-transform: rotate({{item.turn}});transform: rotate({{item.turn}})">
              <text class='canvas-item-text-inner {{scale===1.4?"btnfont":"normal"}}'> {{item.award}}</text>
              <image  style="height:50px;width:50px;margin-top: 20rpx;" class='canvas-item-text-inners' src="{{item.img}}"></image>
            </view>
          </view>
        </view>  
      </view>
       <view class="{{scale===1.4?'btnfont':'normal'}} canvas-btn {{turning?disabled:able}} {{chanceRemain==0?disabled:able}}"></view> 
    </view>
    <view class="main-container">
      <button class="main-container-btn {{turning?disabled:able}}" bindtap="{{turning?'':'getLottery'}}">抽 奖</button>
    </view>
     <view  class='count'><text>{{count}}</text>积分.每次抽奖消耗{{lottery_score}}积分</view>
  </view>
</view>
<i-new-auth needAuth="{{needAuth&&showAuthModal}}" bind:authSuccess="authSuccess" bind:cancel="authModal"></i-new-auth>
